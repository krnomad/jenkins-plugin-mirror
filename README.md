# Jenkins Plugin Mirror

ì´ ì €ì¥ì†ŒëŠ” Jenkins í”ŒëŸ¬ê·¸ì¸ ë¯¸ëŸ¬ ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤. íì‡„ë§ í™˜ê²½ì—ì„œ ì•ˆì •ì ìœ¼ë¡œ Jenkins í”ŒëŸ¬ê·¸ì¸ì„ ê´€ë¦¬í•˜ê³ , ì •ê¸°ì ì¸ ì—…ë°ì´íŠ¸ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

## ğŸ“‹ ì‚¬ìš©ìë³„ ì›Œí¬í”Œë¡œìš°

### ğŸ‘¤ ì¼ë°˜ ì‚¬ìš©ì (ë¯¸ëŸ¬ ì„œë²„ êµ¬ì¶•)

ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìê°€ í•´ë‹¹í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ì…ë‹ˆë‹¤.

#### ğŸŒ **ì˜¨ë¼ì¸ í™˜ê²½ (ê¶Œì¥)**
ì¸í„°ë„· ì—°ê²°ì´ ê°€ëŠ¥í•œ í™˜ê²½ì—ì„œ ë¯¸ëŸ¬ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê³  ìš´ì˜í•˜ëŠ” ê²½ìš°:

**1ë‹¨ê³„: ìµœì´ˆ ë¯¸ëŸ¬ êµ¬ì¶•**
```bash
# ë¯¸ëŸ¬ ë‹¤ìš´ë¡œë“œ
./0-download-latest-release.sh

# ë¯¸ëŸ¬ ì¡°ë¦½
./1-assemble-comprehensive-mirror.sh
```

**2ë‹¨ê³„: ë¯¸ëŸ¬ ì„œë²„ ë°°í¬**
```bash
# Dockerë¥¼ ì‚¬ìš©í•œ ë°°í¬ (ê¶Œì¥)
cd server/docker-image-layered
docker-compose up -d
```

**3ë‹¨ê³„: ì •ê¸° ì—…ë°ì´íŠ¸ (ì›” 1íšŒ ê¶Œì¥)**
```bash
# ì¦ë¶„ ì—…ë°ì´íŠ¸ ì‹¤í–‰
./2-local-comprehensive-mirror.sh
```

#### ğŸ”’ **íì‡„ë§ í™˜ê²½**
ì¸í„°ë„· ì—°ê²°ì´ ì œí•œëœ í™˜ê²½ì—ì„œ ë¯¸ëŸ¬ë¥¼ êµ¬ì¶•í•˜ëŠ” ê²½ìš°:

**ìµœì´ˆ êµ¬ì¶• ë° ëª¨ë“  ì—…ë°ì´íŠ¸:**
```bash
# 1. ì¸í„°ë„· ê°€ëŠ¥í•œ í™˜ê²½ì—ì„œ ë‹¤ìš´ë¡œë“œ
./0-download-latest-release.sh
./1-assemble-comprehensive-mirror.sh

# 2. ìƒì„±ëœ jenkins-comprehensive-mirror ë””ë ‰í† ë¦¬ë¥¼ íì‡„ë§ìœ¼ë¡œ ì´ì „

# 3. íì‡„ë§ì—ì„œ ë¯¸ëŸ¬ ì„œë²„ ë°°í¬
cd server/docker-image-layered
docker-compose up -d
```

**ì—…ë°ì´íŠ¸ ì‹œ:**
- ì¦ë¶„ ì—…ë°ì´íŠ¸ ë¶ˆê°€ (ì¸í„°ë„· ì—°ê²° í•„ìš”)
- ìƒˆ ë¦´ë¦¬ì¦ˆê°€ ìˆì„ ë•Œë§ˆë‹¤ 1-3ë‹¨ê³„ ë°˜ë³µ
- ì›” 1íšŒ ë˜ëŠ” ë¶„ê¸° 1íšŒ ê¶Œì¥

### ğŸ”§ Jenkins ì„¤ì • (ê³µí†µ)

ë¯¸ëŸ¬ ì„œë²„ êµ¬ì¶• í›„ Jenkinsì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •:

1. **Manage Jenkins** â†’ **Manage Plugins** â†’ **Advanced**
2. **Update Site URL**: `http://your-mirror-server/jenkins-comprehensive-mirror/update-center2/update-center.json`
3. **Submit** í´ë¦­ í›„ Jenkins ì¬ì‹œì‘

## ğŸ¯ ë¯¸ëŸ¬ ì •ë³´

### ğŸŒ **Comprehensive Mirror**
- **í¬ê¸°**: ~13GB (ì••ì¶• ì „), 20ê°œ íŒŒíŠ¸ë¡œ ë¶„í• 
- **í”ŒëŸ¬ê·¸ì¸**: 3,000+ê°œ (ìµœëŒ€í•œ ì™„ì „í•œ ë¯¸ëŸ¬)
- **íŠ¹ì§•**: ë‹¤ì–‘í•œ ë²„ì „ ì§€ì›, ë ˆê±°ì‹œ í˜¸í™˜ì„±
- **ì—…ë°ì´íŠ¸**: ì›” 1íšŒ ìë™ ë¦´ë¦¬ì¦ˆ

## ğŸš€ ìƒì„¸ ê°€ì´ë“œ

### ğŸ“¦ ìŠ¤í¬ë¦½íŠ¸ ì„¤ëª…

- **0-download-latest-release.sh**: GitHub Releaseì—ì„œ ë¯¸ëŸ¬ íŒŒíŠ¸ íŒŒì¼ë“¤ì„ ë‹¤ìš´ë¡œë“œ (ìµœëŒ€ 50ê°œ íŒŒíŠ¸ ì§€ì›)
- **1-assemble-comprehensive-mirror.sh**: ë‹¤ìš´ë¡œë“œëœ íŒŒíŠ¸ë“¤ì„ ì¡°ë¦½í•˜ì—¬ ì™„ì „í•œ ë¯¸ëŸ¬ ìƒì„±
- **2-local-comprehensive-mirror.sh**: ê¸°ì¡´ ë¯¸ëŸ¬ë¥¼ ì¦ë¶„ ì—…ë°ì´íŠ¸ (ì˜¨ë¼ì¸ í™˜ê²½ ì „ìš©, ìë™ ë¦´ë¦¬ì¦ˆ ìƒì„±)

### ğŸ–¥ï¸ ë¯¸ëŸ¬ ì„œë²„ ë°°í¬ ë°©ë²•

#### ë°©ë²• 1: Docker Compose (ê¶Œì¥)
```bash
cd server/docker-image-layered
docker-compose up -d
```

#### ë°©ë²• 2: Host Nginx
```bash
# ë¯¸ëŸ¬ ë””ë ‰í† ë¦¬ë¥¼ ì›¹ ì„œë²„ ë£¨íŠ¸ë¡œ ë³µì‚¬
sudo cp -r jenkins-comprehensive-mirror /var/www/
# Nginx ì„¤ì • íŒŒì¼ ì°¸ì¡°: server/host-nginx/
```

#### ë°©ë²• 3: Full Docker Image
```bash
cd server/docker-image-full
docker build -t jenkins-mirror-full .
docker run -d -p 8080:80 jenkins-mirror-full
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
jenkins-plugin-mirror/
â”œâ”€â”€ 0-download-latest-release.sh          # ì‚¬ìš©ì: ë¯¸ëŸ¬ ë‹¤ìš´ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ 1-assemble-comprehensive-mirror.sh    # ì‚¬ìš©ì: ë¯¸ëŸ¬ ì¡°ë¦½ ìŠ¤í¬ë¦½íŠ¸  
â”œâ”€â”€ 2-local-comprehensive-mirror.sh       # Maintainer: ì¦ë¶„ ì—…ë°ì´íŠ¸ & ë¦´ë¦¬ì¦ˆ ìƒì„±
â”œâ”€â”€ server/                               # ë¯¸ëŸ¬ ì„œë²„ ë°°í¬ ì„¤ì •
â”‚   â”œâ”€â”€ docker-image-layered/            # Docker Compose ë°©ì‹ (ê¶Œì¥)
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â”œâ”€â”€ docker-image-full/               # ì „ì²´ í¬í•¨ Docker ì´ë¯¸ì§€
â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â””â”€â”€ host-nginx/                      # Host Nginx ì„¤ì •
â”‚       â””â”€â”€ nginx.conf
â”œâ”€â”€ upload_script/                       # Maintainer ì „ìš© ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ split-and-upload.sh                # ê¸°ì¡´ ë°©ì‹ (100GB+ í•„ìš”)
â”‚   â”œâ”€â”€ split-and-upload-optimized.sh      # ìµœì í™” ë°©ì‹ (60GB í•„ìš”)
â”‚   â””â”€â”€ simulate-disk-usage.sh             # ìš©ëŸ‰ ì‹œë®¬ë ˆì´ì…˜
â””â”€â”€ README.md                            # ì´ ë¬¸ì„œ
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

1. **ì²´í¬ì„¬ ê²€ì¦ ì‹¤íŒ¨**
   - ì›ì¸: ë„¤íŠ¸ì›Œí¬ ë¬¸ì œë¡œ ì¸í•œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë¶ˆì™„ì „
   - í•´ê²°: ë‹¤ìš´ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ ì¬ì‹¤í–‰

2. **ì¡°ë¦½ ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜**
   - ì›ì¸: ì¼ë¶€ íŒŒíŠ¸ íŒŒì¼ ëˆ„ë½
   - í•´ê²°: ëª¨ë“  íŒŒíŠ¸ê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸

3. **ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±**
   - ë¯¸ëŸ¬ í¬ê¸°: ~13GB (ì••ì¶• í•´ì œ í›„)
   - ìµœì†Œ í•„ìš” ê³µê°„: 20GB ê¶Œì¥

### ë¡œê·¸ í™•ì¸
```bash
# Docker ì»¨í…Œì´ë„ˆ ë¡œê·¸
docker logs jenkins-mirror

# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë¡œê·¸
./0-download-latest-release.sh 2>&1 | tee download.log
```

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork this repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)  
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

---

## ğŸ‘¨â€ğŸ’» Release Maintainer ê°€ì´ë“œ

ì´ ì„¹ì…˜ì€ Jenkins Plugin Mirrorì˜ ë¦´ë¦¬ì¦ˆë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” maintainerë¥¼ ìœ„í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.

### ğŸ”§ Maintainer í™˜ê²½ ìš”êµ¬ì‚¬í•­

- **ë¡œì»¬ í™˜ê²½**: ìµœì†Œ 60GB ì—¬ìœ  ê³µê°„ (ìµœì í™” ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ì‹œ)
- **GitHub CLI**: ì¸ì¦ ì„¤ì • ì™„ë£Œ
- **í•„ìˆ˜ ë„êµ¬**: `jq`, `rsync`, `wget`, `curl`, `git`
- **ê¶Œì¥**: SSD ìŠ¤í† ë¦¬ì§€ (ë¹ ë¥¸ ì••ì¶• ì²˜ë¦¬)

### ğŸš€ ë¦´ë¦¬ì¦ˆ ìƒì„± ì›Œí¬í”Œë¡œìš°

#### 1. ê¸°ì¡´ ë¯¸ëŸ¬ í™œìš© (ê¶Œì¥)
```bash
# ê¸°ì¡´ ë¯¸ëŸ¬ê°€ /var/www/jenkins-mirrorì— ìˆëŠ” ê²½ìš°
# ì¦ë¶„ ì—…ë°ì´íŠ¸ë¡œ ë¹ ë¥´ê²Œ ìƒˆ ë¦´ë¦¬ì¦ˆ ìƒì„±

./2-local-comprehensive-mirror.sh
```

#### 2. ì „ì²´ ë¯¸ëŸ¬ ìƒì„± (ìµœì´ˆ ë˜ëŠ” ê¸°ì¡´ ë¯¸ëŸ¬ ì—†ëŠ” ê²½ìš°)
```bash
# ì „ì²´ ë‹¤ìš´ë¡œë“œ (4-6ì‹œê°„ ì†Œìš”)
git clone https://github.com/krnomad/jenkins-plugin-mirror.git
cd jenkins-plugin-mirror
./2-local-comprehensive-mirror.sh
```

### ğŸ“¦ ìë™í™”ëœ ë¦´ë¦¬ì¦ˆ í”„ë¡œì„¸ìŠ¤

`2-local-comprehensive-mirror.sh` ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ìŒ ê³¼ì •ì„ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤:

1. **ğŸ” í™˜ê²½ ê²€ì‚¬**: ê¸°ì¡´ ë¯¸ëŸ¬ í™•ì¸, ë””ìŠ¤í¬ ê³µê°„ ê²€ì¦
2. **âš¡ ì¦ë¶„ ì—…ë°ì´íŠ¸**: rsyncë¥¼ í†µí•œ íš¨ìœ¨ì ì¸ ë™ê¸°í™”
3. **ğŸ“¦ ìë™ íŒ¨í‚¤ì§•**: GitHub 2GB ì œí•œ ë§ì¶¤ ë©€í‹°íŒŒíŠ¸ ë¶„í• 
4. **ğŸš€ GitHub Release**: ìë™ íƒœê¹…, ì—…ë¡œë“œ, ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ ìƒì„±
5. **ğŸ§¹ ì •ë¦¬**: ì´ì „ ë¦´ë¦¬ì¦ˆ ì‚­ì œ, ì„ì‹œ íŒŒì¼ ì •ë¦¬

### â±ï¸ ì‹¤í–‰ ì‹œê°„ ê°€ì´ë“œ

| ìƒí™© | ì˜ˆìƒ ì‹œê°„ | ì„¤ëª… |
|------|----------|------|
| **ì¦ë¶„ ì—…ë°ì´íŠ¸** | 15-30ë¶„ | ê¸°ì¡´ ë¯¸ëŸ¬ ê¸°ë°˜ ë¹ ë¥¸ ì—…ë°ì´íŠ¸ |
| **ì „ì²´ ìƒì„±** | 4-6ì‹œê°„ | ì „ì²´ rsync ë™ê¸°í™” |
| **íŒ¨í‚¤ì§•** | 5-10ë¶„ | ì••ì¶• ë° ì²´í¬ì„¬ ìƒì„± |
| **ì—…ë¡œë“œ** | 10-30ë¶„ | GitHub Release ìƒì„± |

### ğŸ”„ ì •ê¸° ì—…ë°ì´íŠ¸ ì¼ì •

```bash
# ì›”ê°„ ì—…ë°ì´íŠ¸ ì˜ˆì‹œ
# ë§¤ì›” ë‘˜ì§¸ ì£¼ í† ìš”ì¼ ì‹¤í–‰ ê¶Œì¥
0 2 * * 6 [ $(date +\%U) -eq $(date -d "$(date +\%Y-\%m-01) + 1 week" +\%U) ] && cd /path/to/jenkins-plugin-mirror && ./2-local-comprehensive-mirror.sh
```

### ğŸ› ï¸ ë¬¸ì œ í•´ê²°

**ë¦´ë¦¬ì¦ˆ ì‹¤íŒ¨ ì‹œ:**
```bash
# ì´ì „ ë¦´ë¦¬ì¦ˆ ìˆ˜ë™ ì‚­ì œ
gh release delete comprehensive-v$(date +'%Y.%m.%d') -y

# ë‹¤ì‹œ ì‹¤í–‰
./2-local-comprehensive-mirror.sh
```

**ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±:**
```bash
# ìš©ëŸ‰ ì‹œë®¬ë ˆì´ì…˜ (ì‚¬ì „ í™•ì¸)
./upload_script/simulate-disk-usage.sh 42 30

# ìµœì í™”ëœ ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ê¶Œì¥)
./upload_script/split-and-upload-optimized.sh

# ì´ì „ ë¯¸ëŸ¬ ì •ë¦¬
rm -rf /tmp/jenkins-comprehensive-mirror
rm -rf /tmp/jenkins-release-packages-split
```

### ğŸ’¾ ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ ë¹„êµ

| ë°©ì‹ | ìŠ¤í¬ë¦½íŠ¸ | í•„ìš” ìš©ëŸ‰ | ì²˜ë¦¬ ë°©ì‹ | ê¶Œì¥ë„ |
|------|----------|-----------|-----------|---------|
| **ê¸°ì¡´** | `split-and-upload.sh` | ~138GB | ì „ì²´ TAR ìƒì„± í›„ ë¶„í•  | âŒ |
| **ìµœì í™”** | `split-and-upload-optimized.sh` | ~60GB | ìŠ¤íŠ¸ë¦¬ë° ë¶„í•  ì••ì¶• | âœ… |

**ìµœì í™”ëœ ìŠ¤í¬ë¦½íŠ¸ì˜ ì¥ì :**
- **58% ë””ìŠ¤í¬ ê³µê°„ ì ˆì•½**: 138GB â†’ 60GB
- **ë©”ëª¨ë¦¬ íš¨ìœ¨ì **: ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬ë¡œ RAM ì‚¬ìš©ëŸ‰ ìµœì†Œí™”  
- **ë³‘ë ¬ ì••ì¶•**: ë°±ê·¸ë¼ìš´ë“œ ì••ì¶•ìœ¼ë¡œ ì²˜ë¦¬ ì‹œê°„ ë‹¨ì¶•
- **ì•ˆì „ì„±**: ë‹¨ê³„ë³„ ê²€ì¦ ë° ìë™ ì •ë¦¬

---

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ GitHub Issuesë¥¼ í†µí•´ ë¬¸ì˜í•´ ì£¼ì„¸ìš”.
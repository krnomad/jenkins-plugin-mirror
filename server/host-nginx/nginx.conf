server {
    listen 8080;
    server_name jenkins-mirror;

    location / {
        root /data/jenkins-mirror; # jenkins-mirror 디렉토리 경로
        autoindex on;
    }
    
    # 큰 파일에 대한 클라이언트 최대 업로드 크기
    client_max_body_size 100M;
    
    # 정적 파일 캐싱 설정
    location ~* \.(hpi|jar)$ {
        expires 1d;
        add_header Cache-Control "public, immutable";
    }
    
    location ~* \.(json)$ {
        expires 1h;
        add_header Cache-Control "public";
    }
}